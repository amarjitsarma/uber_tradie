
<ion-header>

  <ion-navbar color="primary">
	<ion-buttons start left>
		<button ion-button menuToggle>
			<ion-icon name="menu"></ion-icon>
		</button>
	</ion-buttons>
    <ion-title>Projects</ion-title>
  </ion-navbar>

</ion-header>


<ion-content padding>
	<ion-list>
		<ion-item no-lines>
			<ion-label>Remote Location?</ion-label>
			<ion-toggle checked="true" (onChange)="RemoteEnable();" [(ngModel)]="RemotLocation"></ion-toggle>
		</ion-item>
		<ion-item no-lines *ngIf="RemotLocation==false">
			<ion-label><ion-icon name="locate"></ion-icon></ion-label>
			<select-searchable
				item-content
				[(ngModel)]="suberb"
				[items]="Suberbs"
				itemValueField="Suberb"
				itemTextField="Suberb"
				[canSearch]="true"
				(onChange)="portChange($event)" placeholder="Select">
			</select-searchable>
		</ion-item>
	</ion-list>
	<div *ngFor="let Project of Projects"> 
	<ion-list class="project_card" *ngIf="DoShow(Project);">
		<ion-item no-lines *ngIf="DoShow(Project);">
			<h2 class="job_no">Job#{{Project.id}}</h2>
			<h2 class="posted_by">
				Posted By <ion-icon name="person"></ion-icon>&nbsp;
				<span class="posted_by_name">{{Project.User.first_name}}</span>
			</h2>
			<h2 class="Category">{{Project.Category.CategoryName}}&nbsp;->&nbsp;{{Project.SubCategory.SubCategoryName}}</h2>
			<h2 class="Status{{Project.status}}" *ngIf="Project.status==1">Not assigned</h2>
			<h2 class="Status{{Project.status}}" *ngIf="Project.status==2">Already Assigned</h2>
			<h2 class="Status{{Project.status}}" *ngIf="Project.status==3">Already Finished</h2>
			<h2 class="Status{{Project.status}}" *ngIf="Project.status==4">Already Cancelled</h2>
        </ion-item>
		<ion-item no-lines *ngIf="DoShow(Project);">
			<h2 class="Location" *ngIf="Project.location_type=='online'">
				<ion-icon name="locate"></ion-icon>&nbsp;Online
			</h2>
			<h2 class="Location" *ngIf="Project.location_type=='onsite'">
				<ion-icon name="locate"></ion-icon>&nbsp;
				{{Project.Address.street_name}}, {{Project.Address.suberb}}, {{Project.Address.state}}
			</h2>
		</ion-item>
		<ion-item no-lines *ngIf="DoShow(Project);">
			<h2 class="Title">{{Project.title}}</h2>
			<h2 class="Budget">Estimated Budget:&nbsp;<b>$ {{Project.estimate_budget}}</b></h2>
			<button ion-button class="half" (click)="GoDetail(Project.id);">
				More&nbsp;<ion-icon name="return-right"></ion-icon>
			</button>
			<button ion-button color="secondary" class="half" *ngIf="Project.status==1" (click)="BidNow(Project.id);">
				<ion-icon name="calculator"></ion-icon>&nbsp;Bid Now
			</button>
			
		</ion-item>
	</ion-list>
	</div>
	<ion-fab right bottom>
    <button ion-fab color="light"><ion-icon name="arrow-dropleft"></ion-icon></button>
    <ion-fab-list side="left">
      <button ion-fab (click)="BrowsePrice();"><ion-icon name="pricetag"></ion-icon></button>
      <button ion-fab (click)="BrowseStatus();"><ion-icon name="time"></ion-icon></button>
	  <button ion-fab (click)="SortBy();"><ion-icon name="arrow-down"></ion-icon></button>
    </ion-fab-list>
  </ion-fab>
</ion-content>
