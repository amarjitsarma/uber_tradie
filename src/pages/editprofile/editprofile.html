<!--
  Generated template for the EditprofilePage page.

  See http://ionicframework.com/docs/components/#navigation for more info on
  Ionic pages and navigation.
-->
<ion-header>

    <ion-navbar color="primary">
	<ion-buttons start left>
		<button ion-button menuToggle>
			<ion-icon name="menu"></ion-icon>
		</button>
	</ion-buttons>
    <ion-title>Update Profile</ion-title>
  </ion-navbar>

</ion-header>


<ion-content padding>
	<ion-list>
		<ion-item no-lines class="no-border">
			<ion-avatar item-start *ngIf="User.avatar!=null && User.avatar!=''">
				<img src="https://ptezone.com.au/uploads/avatars/{{User.avatar}}" #myImage (click)="presentImage(myImage);">
			</ion-avatar>
			<ion-avatar item-start *ngIf="User.avatar==null || User.avatar==''">
				<img src="assets/img/profile_avatar.jpeg" #myImage (click)="presentImage(myImage);">
			</ion-avatar>
			<h2>{{User.first_name}} {{User.last_name}}</h2>
			<p>{{User.email}}</p>
			<button ion-button (click)="UploadAvatar();">Change Avatar</button>
		</ion-item>
		<ion-item no-lines>
			<ion-label stacked><ion-icon name="person" color="primary"></ion-icon>&nbsp;First Name *</ion-label>
			<ion-input type="text" [(ngModel)]="User.first_name" placeholder="Please enter your last name"></ion-input>
		</ion-item>
		<ion-item no-lines>
			<ion-label stacked><ion-icon name="person" color="primary"></ion-icon>&nbsp;Last Name*</ion-label>
			<ion-input type="text" [(ngModel)]="User.last_name" placeholder="Please enter your last name"></ion-input>
		</ion-item>
		<ion-item no-lines>
			<ion-label stacked><ion-icon name="person" color="primary"></ion-icon>&nbsp; Username*</ion-label>
			<ion-input type="text" [(ngModel)]="User.username" placeholder="Please enter your username"></ion-input>
		</ion-item>
		<!--ion-item no-lines>
			<ion-label><ion-icon name="calendar" color="primary"></ion-icon></ion-label>
			<ion-input type="text" [(ngModel)]="User.dob" placeholder="Date Of Birth" readonly (ionFocus)="OpenCalender();"></ion-input>
		</ion-item-->
		<!-- Tradie Information -->
		<!--ion-item no-lines *ngIf="commonProvider.Role=='Tradie'">
			<ion-label><ion-icon name="copy" color="primary"></ion-icon></ion-label>
			<ionic-selectable
				item-content
				[isMultiple]="true"
				[(ngModel)]="category"
				[items]="Categories"
				itemValueField="ID"
				itemTextField="Name"
				[canSearch]="true"
				(onChange)="portChange($event)" placeholder="Select Category">
			</ionic-selectable>
		</ion-item-->
		<!--ion-item no-lines class="no-border">
			<p><span *ngFor="let cat of category">#{{cat.Name}}&nbsp;&nbsp;</span></p>
		</ion-item-->
		<ion-item no-lines *ngIf="commonProvider.Role=='Tradie'">
			<ion-label stacked><ion-icon name="copy" color="primary"></ion-icon>&nbsp;Skills*</ion-label>
			<ionic-selectable
				item-content
				[isMultiple]="true"
				[(ngModel)]="sub_category"
				[items]="SubCategories"
				itemValueField="ID"
				itemTextField="Name"
				[canSearch]="true" placeholder="Please select your skills">
			</ionic-selectable>
		</ion-item>
		<ion-item no-lines class="no-border" *ngIf="commonProvider.Role=='Tradie' && sub_category.length>0">
			<p><span *ngFor="let sub_cat of sub_category">#{{sub_cat.Name}}&nbsp;&nbsp;</span></p>
		</ion-item>
		<ion-item no-lines *ngIf="commonProvider.Role=='Tradie'">
			<ion-label stacked><ion-icon name="person" color="primary"></ion-icon>&nbsp;Business/Company Name*</ion-label>
			<ion-input type="text" [(ngModel)]="fullname" placeholder="Please enter your Business/Company name"></ion-input>
		</ion-item>
		<ion-item no-lines *ngIf="commonProvider.Role=='Tradie'">
			<ion-label stacked><ion-icon name="person" color="primary"></ion-icon>&nbsp;ABN*</ion-label>
			<ion-input type="text" [(ngModel)]="ABN" placeholder="Please enter your company ABN"></ion-input>
		</ion-item>
		<ion-item no-lines *ngIf="commonProvider.Role=='Tradie'">
			<ion-label stacked><ion-icon name="call" color="primary"></ion-icon>&nbsp;Phone*</ion-label>
			<ion-input type="text" [(ngModel)]="User.phone" placeholder="Please enter your phone no" onpaste="return false;" (keyup)="keyUpChecker($event)"></ion-input>
		</ion-item>
		<ion-item no-lines *ngIf="commonProvider.Role=='Tradie'">
			<ion-label stacked><ion-icon name="pin" color="primary"></ion-icon>&nbsp;Location*</ion-label>
			<ion-input type="text" [(ngModel)]="location" placeholder="Please enter your location" (ionFocus)="launchLocationPage();"></ion-input>
		</ion-item>
		<ion-item no-lines *ngIf="commonProvider.Role=='Tradie'">
			<ion-label stacked><ion-icon name="text" color="primary"></ion-icon>&nbsp;About* ({{about.length}}/1000 remaining)</ion-label>
			<ion-textarea [(ngModel)]="about" placeholder="Please enter about your company"></ion-textarea>
		</ion-item>
		<ion-item no-lines *ngIf="commonProvider.Role=='Tradie'">
			<ion-label stacked><ion-icon name="cash" color="primary"></ion-icon>&nbsp;Free Travel KM*</ion-label>
			<ion-input type="text" [(ngModel)]="radius" placeholder="Please enter your free travel distance" (keyup)="keyUpCheckerFT($event)"></ion-input>
		</ion-item>
		<ion-item no-lines *ngIf="commonProvider.Role=='Tradie'">
			<ion-label stacked><ion-icon name="cash" color="primary"></ion-icon>&nbsp;Call Out Fees Per KM*</ion-label>
			<ion-input type="text" [(ngModel)]="call_out_charge" placeholder="Please enter your travel charge per KM (AUD)" (keyup)="keyUpCheckerPKC($event)"></ion-input>
		</ion-item>
		<ion-item no-lines *ngIf="commonProvider.Role=='Tradie'">
			<ion-label stacked><ion-icon name="cash" color="primary"></ion-icon>&nbsp;Per Hour Rate*</ion-label>
			<ion-input type="text" [(ngModel)]="per_hour_charge" placeholder="Please enter your hourly charge(AUD)" (keyup)="keyUpCheckerPHC($event)"></ion-input>
		</ion-item>
		<h3 *ngIf="commonProvider.Role=='Tradie'">Bank Details</h3>
		<ion-item no-lines *ngIf="commonProvider.Role=='Tradie'">
			<ion-label stacked><ion-icon name="text" color="primary"></ion-icon>&nbsp; Account Name</ion-label>
			<ion-input type="text" [(ngModel)]="account_name" placeholder="Please enter your account name"></ion-input>
		</ion-item>
		<ion-item no-lines *ngIf="commonProvider.Role=='Tradie'">
			<ion-label stacked><ion-icon name="pin" color="primary"></ion-icon>&nbsp;BSB</ion-label>
			<ion-input type="text" [(ngModel)]="bsb" placeholder="Please enter your BSB"></ion-input>
		</ion-item>
		<ion-item no-lines *ngIf="commonProvider.Role=='Tradie'">
			<ion-label stacked><ion-icon name="cash" color="primary"></ion-icon>&nbsp;Account No</ion-label>
			<ion-input type="text" [(ngModel)]="account_no" placeholder="Please enter your bank account no"></ion-input>
		</ion-item>
		<!-- Tradie Information -->
		
		
	</ion-list>
	<ion-grid>
		<ion-row>
			<!--ion-col col-6>
				<button ion-button (click)="GoHome();" block>Go Home</button>
			</ion-col-->
			<ion-col col-12>
				<button ion-button (click)="UpdateProfile();" *ngIf="commonProvider.Role=='User' || commonProvider.Role=='Admin'" block>Update Profile</button>
				<button ion-button (click)="SaveBasic();" *ngIf="commonProvider.Role=='Tradie'" block>Update Profile</button>
			</ion-col>
		</ion-row>
	</ion-grid>
	<!--ion-grid *ngIf="commonProvider.Role=='Tradie'">
		<ion-row>
			<ion-col col-12>
				<h2>Tradie Information</h2>
			</ion-col>
		</ion-row>
		<ion-row>
			<ion-col col-8></ion-col>
			<ion-col col-4>
				<button ion-button (click)="EditBasic();" small><ion-icon name="create"></ion-icon>&nbsp;Edit</button>
			</ion-col>
		</ion-row>
		<ion-row>
			<ion-col col-4>
				Business Name
			</ion-col>
			<ion-col col-8>
				{{commonProvider.tradie_basic.fullname}}
			</ion-col>
		</ion-row>
		<ion-row>
			<ion-col col-4>
				ABN
			</ion-col>
			<ion-col col-8>
				{{commonProvider.tradie_basic.ABN}}
			</ion-col>
		</ion-row>
		<ion-row>
			<ion-col col-4>
				Category
			</ion-col>
			<ion-col col-8>
				{{commonProvider.tradie_basic.CategoryName}}
			</ion-col>
		</ion-row>
		<ion-row>
			<ion-col col-4>
				Sub Category
			</ion-col>
			<ion-col col-8>
				{{commonProvider.tradie_basic.SubCategoryName}}
			</ion-col>
		</ion-row>
		<ion-row>
			<ion-col col-4>
				Location
			</ion-col>
			<ion-col col-8>
				{{commonProvider.tradie_basic.location}}
			</ion-col>
		</ion-row>
		<ion-row>
			<ion-col col-4>
				Contact Person
			</ion-col>
			<ion-col col-8>
				{{commonProvider.contact.contact_name}}
			</ion-col>
		</ion-row>
		<ion-row>
			<ion-col col-4>
				Phone No
			</ion-col>
			<ion-col col-8>
				{{commonProvider.contact.phone}}
			</ion-col>
		</ion-row>
		<ion-row>
			<ion-col col-4>
				Mobile No
			</ion-col>
			<ion-col col-8>
				{{commonProvider.contact.mobile}}
			</ion-col>
		</ion-row>
		<ion-row>
			<ion-col col-4>
				Website
			</ion-col>
			<ion-col col-8>
				{{commonProvider.contact.website}}
			</ion-col>
		</ion-row>
		<ion-row>
			<ion-col col-4>
				Short Description
			</ion-col>
			<ion-col col-8>
				{{commonProvider.about.short_desc}}
			</ion-col>
		</ion-row>
		<ion-row>
			<ion-col col-4>
				Description
			</ion-col>
			<ion-col col-8>
				{{commonProvider.about.about}}
			</ion-col>
		</ion-row>
		<ion-row>
			<ion-col col-4>
				Services
			</ion-col>
			<ion-col col-8>
				{{commonProvider.services.services}}
			</ion-col>
		</ion-row>
		<ion-row>
			<ion-col col-12>
				<h2>Additional Information</h2>
			</ion-col>
		</ion-row>
		<ion-row>
			<ion-col col-8></ion-col>
			<ion-col col-4>
				<button ion-button (click)="EditEditional();" small><ion-icon name="create"></ion-icon>&nbsp;Edit</button>
			</ion-col>
		</ion-row>
		<ion-row *ngIf="this.commonProvider.working_hours.monday!='' || this.commonProvider.working_hours.tuesday!='' || this.commonProvider.working_hours.wednessday!='' || this.commonProvider.working_hours.thursday!='' || this.commonProvider.working_hours.friday!='' || this.commonProvider.working_hours.saturday!='' || this.commonProvider.working_hours.sunday!=''">
			<ion-col col-12>
				<b>Working Hours</b>
			</ion-col>
		</ion-row>
		<ion-row *ngIf="this.commonProvider.working_hours.monday!=''">
			<ion-col col-4>
				Monday
			</ion-col>
			<ion-col col-8>
				{{commonProvider.working_hours.monday}}
			</ion-col>
		</ion-row>
		<ion-row *ngIf="this.commonProvider.working_hours.tuesday!=''">
			<ion-col col-4>
				Tuesday
			</ion-col>
			<ion-col col-8>
				{{commonProvider.working_hours.tuesday}}
			</ion-col>
		</ion-row>
		<ion-row *ngIf="this.commonProvider.working_hours.wednessday!=''">
			<ion-col col-4>
				Wednesday
			</ion-col>
			<ion-col col-8>
				{{commonProvider.working_hours.wednessday}}
			</ion-col>
		</ion-row>
		<ion-row *ngIf="this.commonProvider.working_hours.thursday!=''">
			<ion-col col-4>
				Thursday
			</ion-col>
			<ion-col col-8>
				{{commonProvider.working_hours.thursday}}
			</ion-col>
		</ion-row>
		<ion-row *ngIf="this.commonProvider.working_hours.friday!=''">
			<ion-col col-4>
				Friday
			</ion-col>
			<ion-col col-8>
				{{commonProvider.working_hours.friday}}
			</ion-col>
		</ion-row>
		<ion-row *ngIf="this.commonProvider.working_hours.saturday!=''">
			<ion-col col-4>
				Saturday
			</ion-col>
			<ion-col col-8>
				{{commonProvider.working_hours.saturday}}
			</ion-col>
		</ion-row>
		<ion-row *ngIf="this.commonProvider.working_hours.sunday!=''">
			<ion-col col-4>
				Sunday
			</ion-col>
			<ion-col col-8>
				{{commonProvider.working_hours.sunday}}
			</ion-col>
		</ion-row>
		<ion-row *ngIf="this.commonProvider.photos.length>0">
			<ion-col col-12>
				<b>Photos</b>
			</ion-col>
			<ion-col col-4 *ngFor="let photo of this.commonProvider.photos">
				<img src="https://ptezone.com.au/uploads/{{photo.Photo}}">
			</ion-col>
		</ion-row>
		<ion-row *ngIf="this.commonProvider.taglines.length>0">
			<ion-col col-4>
				<b>Tag Lines</b>
			</ion-col>
			<ion-col col-8>
				<span *ngFor="let tagline of this.commonProvider.taglines">{{tagline.tagline}}, </span>
			</ion-col>
		</ion-row>
		<ion-row *ngIf="this.commonProvider.keywords.length>0">
			<ion-col col-4>
				<b>Keywords</b>
			</ion-col>
			<ion-col col-8>
				<span *ngFor="let keyword of this.commonProvider.keywords">{{keyword.keyword}}, </span>
			</ion-col>
		</ion-row>
	</ion-grid-->
	<p [innerHTML]="Error"></p>
</ion-content>
