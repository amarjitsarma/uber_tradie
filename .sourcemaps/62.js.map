{"version":3,"sources":["../../src/pages/adminpayment/adminpayment.module.ts","../../src/pages/adminpayment/adminpayment.ts"],"names":[],"mappings":"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","file":"62.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { IonicPageModule } from 'ionic-angular';\nimport { AdminpaymentPage } from './adminpayment';\nimport { IonicSelectableModule } from 'ionic-selectable';\n\n@NgModule({\n  declarations: [\n    AdminpaymentPage,\n  ],\n  imports: [\n\tIonicSelectableModule,\n    IonicPageModule.forChild(AdminpaymentPage),\n  ],\n})\nexport class AdminpaymentPageModule {}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/adminpayment/adminpayment.module.ts","import { Component } from '@angular/core';\nimport { IonicPage, NavController, NavParams, ToastController, Platform, MenuController, LoadingController, ModalController } from 'ionic-angular';\nimport { HttpClient } from '@angular/common/http';\nimport { Device } from '@ionic-native/device';\nimport { SQLite, SQLiteObject } from '@ionic-native/sqlite';\nimport { CommondataProvider } from '../../providers/commondata/commondata';\nimport { SelectSearchableComponent } from 'ionic-select-searchable';\nimport { LocationSelect } from '../location-select/location-select';\nimport { MyApp } from '../../app/app.component';\nimport { TradiebasicPage } from '../tradiebasic/tradiebasic';\nimport { TradieadvancePage } from '../tradieadvance/tradieadvance';\nimport { IonicSelectableComponent } from 'ionic-selectable';\nclass User {\n    public user_id: number;\n    public name: string;\n}\n@IonicPage()\n@Component({\n  selector: 'page-adminpayment',\n  templateUrl: 'adminpayment.html',\n})\n\nexport class AdminpaymentPage {\n\tCustomer:User={user_id:0,name:\"Select Customer\"};\n\tCustomers:User[]=[];\n\tTradie:User={user_id:0,name:\"Select Tradie\"};\n\tTradies:User[]=[];\n\tport: User;\n\ttransaction_type:number=0;\n\tuser_type:number=0;\n\tfrom_date:string=\"\";\n\tto_date:string=\"\";\n\tfrom_date_show:string=\"\";\n\tto_date_show:string=\"\";\n\tTransactions:any[]=[];\n\treceive:any=0;\n\twithdraw:any=0;\n\tbalance:any=0;\n\twithdraw_amount:any;\n\n  constructor(public navCtrl: NavController, public navParams: NavParams, public httpClient:HttpClient, public device:Device, public toastCtrl: ToastController, public sqlite: SQLite, public platform: Platform, public commonProvider: CommondataProvider, public menuController:MenuController, public loadingCtrl: LoadingController, public modalCtrl: ModalController) {\n\t  this.LoadUsers();\n\t  var d1=new Date();\n\t  this.from_date=this.formatDate(d1);\n\t  this.from_date_show=this.commonProvider.GetFormattedDate(d1);\n\t  this.to_date=this.formatDate(d1);\n\t  this.to_date_show=this.commonProvider.GetFormattedDate(d1);\n\t  if(this.commonProvider.Role=='User')\n\t  {\n\t\t  this.Customer={user_id:this.commonProvider.User.id, name:this.commonProvider.User.first_name};\n\t  }\n\t  if(this.commonProvider.Role=='Tradie')\n\t  {\n\t\t  this.Tradie={user_id:this.commonProvider.User.id, name:this.commonProvider.tradie_basic.fullname};\n\t  }\n\t  this.Search();\n  }\n\tLoadUsers()\n\t{\n\t\tthis.httpClient.get<any>('https://ptezone.com.au/api/GetAllUsers').subscribe(data => {\n\t\t\tfor(var i=0;i<data.Customers.length;i++)\n\t\t\t{\n\t\t\t\tthis.port={user_id:data.Customers[i].id, name:data.Customers[i].first_name+' '+data.Customers[i].last_name};\n\t\t\t\tthis.Customers.push(this.port);\t\n\t\t\t}\n\t\t\tfor(var i=0;i<data.Tradies.length;i++)\n\t\t\t{\n\t\t\t\tthis.port={user_id:data.Tradies[i].id, name:data.Tradies[i].fullname};\n\t\t\t\tthis.Tradies.push(this.port);\t\n\t\t\t}\n\t\t},\n\t\terr => {\n\t\t\t\tconsole.log(err);\t\n\t\t});\n\t}\n\tportChange(event: {\n        component: SelectSearchableComponent,\n        value: any \n    }) {\n    }\n\tionViewDidLoad() {\n\t\tconsole.log('ionViewDidLoad AdminpaymentPage');\n\t}\n\tSelectFromDate()\n\t{\n\t\tthis.OpenCalender(\"from_date\");\n\t}\n\tSelectToDate()\n\t{\n\t\tthis.OpenCalender(\"to_date\");\n\t}\n\tSearch()\n\t{\t\n\t\tlet loader:any = this.loadingCtrl.create({\n\t\tspinner: \"hide\",\n\t\tcontent: `<div class=\"custom-spinner-container\" style=\"height:100%; width:100%;\">\n\t\t\t\t\t\t<div class=\"custom-spinner-box\">\n\t\t\t\t\t\t\t<img src=\"assets/img/spinner.gif\" width=\"100%\"/>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>`\n\t\t});\n\t\tloader.present();\n\t\tsetTimeout(()=>{\n\t\t\tthis.httpClient.post<any>('https://ptezone.com.au/api/GetTransactios',{\n\t\t\t\ttransaction_type:this.transaction_type,\n\t\t\t\tuser_type:this.user_type,\n\t\t\t\tcustomer:this.Customer.user_id,\n\t\t\t\ttradie:this.Tradie.user_id,\n\t\t\t\tfrom_date:this.from_date,\n\t\t\t\tto_date:this.to_date\n\t\t\t}).subscribe(data => {\n\t\t\t\tloader.dismiss();\n\t\t\t\tthis.Transactions=data.Transactions;\n\t\t\t\tthis.receive=data.received;\n\t\t\t\tthis.withdraw=data.withdraw;\n\t\t\t\tthis.balance=data.balance;\n\t\t\t},\n\t\t\terr => {\n\t\t\t\tloader.dismiss();\n\t\t\t\tconsole.log(err);\t\n\t\t\t});\n\t\t},1000);\n\t}\n\tModalActiv:boolean=false;\n\tOpenCalender(date_type)\n\t{\n\t\tif(this.ModalActiv==false)\n\t\t{\n\t\t\tthis.ModalActiv=true;\n\t\t\tlet modal = this.modalCtrl.create(\"DatePickerPage\",{transaction:1});\n\t\n\t\t\tmodal.onDidDismiss((date) => {\n\t\t\t\tthis.ModalActiv=false;\n\t\t\t\tif(date)\n\t\t\t\t{\n\t\t\t\t\tif(date_type==\"from_date\")\n\t\t\t\t\t{\n\t\t\t\t\t\tthis.from_date=this.formatDate(date);\n\t\t\t\t\t\tthis.from_date_show=this.commonProvider.GetFormattedDate(date);\n\t\t\t\t\t}\n\t\t\t\t\telse if(date_type==\"to_date\")\n\t\t\t\t\t{\n\t\t\t\t\t\tthis.to_date=this.formatDate(date);\n\t\t\t\t\t\tthis.to_date_show=this.commonProvider.GetFormattedDate(date);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\t\n\t\t\tmodal.present();\n\t\t}\t\t\t\n\t}\n\tformatDate(date) {\n\t\tvar d = new Date(date),\n\t\t\tmonth = '' + (d.getMonth() + 1),\n\t\t\tday = '' + d.getDate(),\n\t\t\tyear = d.getFullYear();\n\t\n\t\tif (month.length < 2) \n\t\t\tmonth = '0' + month;\n\t\tif (day.length < 2) \n\t\t\tday = '0' + day;\n\t\n\t\treturn [year, month, day].join('-');\n\t}\n\tkeyUpChecker(ev) {\n\t\tlet elementChecker: any;\n\t\telementChecker = ev.target.value;\n\t\tif (isNaN(elementChecker)) {\n\t\t\tthis.withdraw_amount= elementChecker.slice(0, -1);\n\t\t}\n\t}\n\tWithdraw()\n\t{\n\t\tif(this.withdraw_amount!=\"\" && this.withdraw_amount<=this.balance)\n\t\t{\n\t\t\tthis.httpClient.post<any>('https://ptezone.com.au/api/WithdrawMoney',{id:this.commonProvider.tradie_basic.user_id, amount: this.withdraw_amount})\n\t\t\t.subscribe(data => {\n\t\t\t\talert(data.message);\n\t\t\t\tthis.Search();\n\t\t\t},\n\t\t\terr => {\n\t\t\t\talert(JSON.stringify(err));\n\t\t\t})\n\t\t}\n\t\telse\n\t\t{\n\t\t\talert(\"Please enter a valid amount\");\n\t\t}\n\t}\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/adminpayment/adminpayment.ts"],"sourceRoot":""}