{"version":3,"sources":["../../src/pages/payment/payment.ts","../../src/pages/payment/payment.module.ts"],"names":[],"mappings":"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","file":"22.js","sourcesContent":["import { Component, NgZone, ElementRef, OnInit, ViewChild } from '@angular/core';\nimport { IonicPage, NavController, NavParams, AlertController, LoadingController, ToastController, Slides, ModalController, Content, Platform } from 'ionic-angular';\nimport { HttpClient } from '@angular/common/http';\nimport { FormGroup, FormControl } from '@angular/forms';\nimport { Device } from '@ionic-native/device';\nimport { FirstRunPage } from '../pages';\nimport { SelectSearchableComponent } from 'ionic-select-searchable';\nimport { SQLite, SQLiteObject } from '@ionic-native/sqlite';\nimport { CommondataProvider } from '../../providers/commondata/commondata';\nimport { JobpostPage } from '../jobpost/jobpost';\nimport { MyApp } from '../../app/app.component';\nimport { ImageViewerController } from 'ionic-img-viewer';\nimport { Stripe } from '@ionic-native/stripe';\n@IonicPage()\n@Component({\n  selector: 'page-payment',\n  templateUrl: 'payment.html',\n})\nexport class PaymentPage {\n\tcard:{account_holder:string, card_no:string, exp_month:string, exp_year:string, cvc:string}={\n\t\taccount_holder:\"\", \n\t\tcard_no:\"\", \n\t\texp_month:\"\", \n\t\texp_year:\"\",\n\t\tcvc:\"\"\n\t}\n\tcard_type:string=\"\";\n\tAmount:any=0;\n\tProjectID:any=0;\n\tProjects:any[]=[];\n\tbalance_amount:any=0.00;\n\twithdraw_amount:any=0.00;\n  constructor(public navCtrl: NavController, public navParams: NavParams, public httpClient: HttpClient, public toastCtrl: ToastController, public loadingCtrl: LoadingController, public alertCtrl: AlertController, public modalCtrl : ModalController, public device: Device, public sqlite: SQLite, public platform: Platform, public commonProvider:CommondataProvider, public imageViewerController:ImageViewerController, private stripe: Stripe)  {\n\t  this.Amount=this.navParams.get(\"amount\");\n\t  this.ProjectID=this.navParams.get(\"project_id\");\n\t  this.LoadUnpainProjects();\n\t  this.GetBalance();\n  }\n  CVC_Error:string=\"\";\n  EXP_Error:string=\"\";\n  CardType_Error:string=\"\";\n  CardNo_Error:string=\"\";\n  Payment_Error:string=\"\";\n\tValidateCVC()\n\t{\n\t\tthis.stripe.validateCVC(this.card.cvc).then(data=>{\n\t\t\tthis.CVC_Error=JSON.stringify(data);\n\t\t}).catch(error=>{\n\t\t\tthis.CVC_Error=JSON.stringify(error);\n\t\t});\n\t}\n\tValidateEXP()\n\t{\n\t\tthis.stripe.validateExpiryDate(this.card.exp_month,this.card.exp_year).then(data=>{\n\t\t\tthis.EXP_Error=JSON.stringify(data);\n\t\t}).catch(error=>{\n\t\t\tthis.EXP_Error=JSON.stringify(error);\n\t\t});\n\t}\n\tGetCardType()\n\t{\n\t\tthis.stripe.getCardType(this.card.card_no).then(data=>{\n\t\t\tthis.card_type=data;\n\t\t}).catch(error=>{\n\t\t\talert(\"invalid card number\");\n\t\t});\n\t}\n\tValidateCardNo()\n\t{\n\t\tthis.stripe.getCardType(this.card.card_no).then(data=>{\n\t\t\tthis.CardNo_Error=JSON.stringify(data);\n\t\t}).catch(error=>{\n\t\t\tthis.CardNo_Error=JSON.stringify(error);\n\t\t});\n\t}\n\tProcessPayment()\n\t{\n\t\t\n\t\tthis.stripe.setPublishableKey('pk_live_lbjiCleZmliHZtQI00Iy8bk200onuFkWnG');\n\t\tlet card = {\n\t\t\tname: this.card.account_holder,\n\t\t\tnumber: this.card.card_no,\n\t\t\texpMonth: parseInt(this.card.exp_month),\n\t\t\texpYear: parseInt(this.card.exp_year),\n\t\t\tcvc: this.card.cvc\n\t\t};\n\t\tthis.stripe.createCardToken(card).then(data=>{\n\t\t\tthis.Payment_Error=JSON.stringify(data);\n\t\t}).catch(error=>{\n\t\t\tthis.Payment_Error=JSON.stringify(error);\n\t\t});\n\t}\n\tLoadUnpainProjects()\n\t{\n\t\tthis.httpClient.get<any>('https://ptezone.com.au/api/GetUnpaidJobsByCustomer/'+this.commonProvider.User.id).subscribe(data => {\n\t\t\tthis.Projects=data;\n\t\t},\n\t\terr => {\n\t\t\t\tconsole.log(err);\n\t\t});\n\t}\n  ionViewDidLoad() {\n    console.log('ionViewDidLoad PaymentPage');\n  }\n  TransactionHistory()\n  {\n\t  this.navCtrl.push(\"TransactionhistoryPage\");\n  }\n  WithdrawAmount()\n  {\n\t  \n  }\n  Pay(project_id, amount)\n  {\n\t  \n  }\n  GetBalance()\n  {\n\t  this.httpClient.get<any>('https://ptezone.com.au/api/GetLastBalance/'+this.commonProvider.User.id).subscribe(data => {\n\t\t\tif(data.balance==null)\n\t\t\t{\n\t\t\t\tthis.balance_amount=0.00;\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\t\n\t\t\t\tthis.balance_amount=data.balance.toFixed(2);\n\t\t\t}\n\t\t},\n\t\terr => {\n\t\t\t\tconsole.log(err);\n\t\t});\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/payment/payment.ts","import { NgModule } from '@angular/core';\nimport { IonicPageModule } from 'ionic-angular';\nimport { PaymentPage } from './payment';\n\n@NgModule({\n  declarations: [\n    PaymentPage,\n  ],\n  imports: [\n    IonicPageModule.forChild(PaymentPage),\n  ],\n})\nexport class PaymentPageModule {}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/payment/payment.module.ts"],"sourceRoot":""}